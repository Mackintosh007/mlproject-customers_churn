<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Prediction</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font (Inter) */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style for required fields indication */
        .required-label::after {
            content: '*';
            color: #ef4444; /* red-500 */
            margin-left: 0.25rem;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-600 to-purple-800 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-xl shadow-2xl p-8 md:p-10 w-full max-w-2xl transform transition-all duration-300 hover:scale-[1.01] hover:shadow-3xl">
        <h1 class="text-4xl md:text-5xl font-extrabold text-center text-gray-800 mb-8 tracking-tight">
            Customer Churn Prediction
        </h1>
        
        <form action="/predictdata" method="post" class="space-y-6">
            <h2 class="text-2xl font-bold text-gray-700 mb-6 text-center">
                <legend class="border-b-2 border-indigo-400 pb-2 inline-block">Enter Customer Details</legend>
            </h2>

            <!-- Row 1: Gender, SeniorCitizen -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Gender -->
                <div>
                    <label for="gender" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Gender</label>
                    <select id="gender" name="gender" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <!-- SeniorCitizen -->
                <div>
                    <label for="SeniorCitizen" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Senior Citizen</label>
                    <select id="SeniorCitizen" name="SeniorCitizen" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                    </select>
                </div>
            </div>

            <!-- Row 2: Partner, Dependents -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Partner -->
                <div>
                    <label for="Partner" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Partner</label>
                    <select id="Partner" name="Partner" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <!-- Dependents -->
                <div>
                    <label for="Dependents" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Dependents</label>
                    <select id="Dependents" name="Dependents" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
            </div>

            <!-- Row 3: Tenure, PhoneService -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Tenure -->
                <div>
                    <label for="tenure" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Tenure (Months)</label>
                    <input type="number" id="tenure" name="tenure" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" min="0" required>
                </div>
                <!-- PhoneService -->
                <div>
                    <label for="PhoneService" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Phone Service</label>
                    <select id="PhoneService" name="PhoneService" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
            </div>

            <!-- Row 4: MultipleLines, InternetService -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- MultipleLines -->
                <div>
                    <label for="MultipleLines" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Multiple Lines</label>
                    <select id="MultipleLines" name="MultipleLines" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                        <option value="No phone service">No phone service</option>
                    </select>
                </div>
                <!-- InternetService -->
                <div>
                    <label for="InternetService" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Internet Service</label>
                    <select id="InternetService" name="InternetService" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="DSL">DSL</option>
                        <option value="Fiber optic">Fiber optic</option>
                        <option value="No">No</option>
                    </select>
                </div>
            </div>
            
            <!-- Row 5: OnlineSecurity, StreamingTV -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- OnlineSecurity -->
                <div>
                    <label for="OnlineSecurity" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Online Security</label>
                    <select id="OnlineSecurity" name="OnlineSecurity" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                        <option value="No internet service">No internet service</option>
                    </select>
                </div>
                <!-- StreamingTV -->
                <div>
                    <label for="StreamingTV" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Streaming TV</label>
                    <select id="StreamingTV" name="StreamingTV" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                        <option value="No internet service">No internet service</option>
                    </select>
                </div>
            </div>

            <!-- Row 6: StreamingMovies, Contract -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- StreamingMovies -->
                <div>
                    <label for="StreamingMovies" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Streaming Movies</label>
                    <select id="StreamingMovies" name="StreamingMovies" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                        <option value="No internet service">No internet service</option>
                    </select>
                </div>
                <!-- Contract -->
                <div>
                    <label for="Contract" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Contract Type</label>
                    <select id="Contract" name="Contract" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Month-to-month">Month-to-month</option>
                        <option value="One year">One year</option>
                        <option value="Two year">Two year</option>
                    </select>
                </div>
            </div>

            <!-- Row 7: PaperlessBilling, PaymentMethod -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- PaperlessBilling -->
                <div>
                    <label for="PaperlessBilling" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Paperless Billing</label>
                    <select id="PaperlessBilling" name="PaperlessBilling" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <!-- PaymentMethod -->
                <div>
                    <label for="PaymentMethod" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Payment Method</label>
                    <select id="PaymentMethod" name="PaymentMethod" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" required>
                        <option class="text-gray-400" selected disabled value="">Select Option</option>
                        <option value="Electronic check">Electronic check</option>
                        <option value="Mailed check">Mailed check</option>
                        <option value="Bank transfer (automatic)">Bank transfer (automatic)</option>
                        <option value="Credit card (automatic)">Credit card (automatic)</option>
                    </select>
                </div>
            </div>

            <!-- Row 8: MonthlyCharges, TotalCharges -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- MonthlyCharges -->
                <div>
                    <label for="MonthlyCharges" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Monthly Charges</label>
                    <input type="number" step="0.01" id="MonthlyCharges" name="MonthlyCharges" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" min="0" required>
                </div>
                <!-- TotalCharges -->
                <div>
                    <label for="TotalCharges" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Total Charges</label>
                    <input type="number" step="0.01" id="TotalCharges" name="TotalCharges" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" min="0" required>
                </div>
            </div>

            <!-- Row 9: numAdminTickets, numTechTickets -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- numAdminTickets -->
                <div>
                    <label for="numAdminTickets" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Number of Admin Tickets</label>
                    <input type="number" id="numAdminTickets" name="numAdminTickets" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" min="0" required>
                </div>
                <!-- numTechTickets -->
                <div>
                    <label for="numTechTickets" class="block text-gray-700 text-sm font-semibold mb-2 required-label">Number of Tech Tickets</label>
                    <input type="number" id="numTechTickets" name="numTechTickets" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out text-gray-800 placeholder-gray-400" min="0" required>
                </div>
            </div>
            
            <!-- Submit Button -->
            <div class="text-center mt-8">
                <input class="w-full md:w-1/2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform hover:scale-105 transition duration-300 ease-in-out cursor-pointer" type="submit" value="Predict Churn" />
            </div>
        </form>

        <!-- Prediction Result Display -->
        {% if results is not none %}
            <h2 class="text-3xl font-bold text-center mt-10 p-4 bg-indigo-100 text-indigo-800 rounded-lg shadow-inner">
                Predicted Churn: <span class="text-indigo-900">{{ results }}</span>
            </h2>
        {% endif %}

    </div>
</body>
</html>
